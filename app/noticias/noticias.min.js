(function(){var b=document.getElementsByTagName("script");var c=b[b.length-1].src;angular.module("acdesarrollos.noticias",["ngRoute"]).controller("NoticiasController",a);a.$inject=["$scope","$location","NoticiasService","$interval","AcUtils"];function a(n,j,e,l,g){var f=this;f.titulo="";f.filtro="";f.buscar=false;f.slider_1=false;f.slider_2=false;f.slider_3=false;f.slider_4=false;f.slider_5=false;f.noticias=[];f.noticias_resultado=[];f.noticia={};f.noticias_slider_1=[];f.noticias_slider_2=[];f.noticias_slider_3=[];f.noticias_slider_4=[];f.noticias_slider_5=[];f.goToNoticia=m;f.showNoticia=d;f.buscarNoticia=k;e.getNoticias(function(q){f.noticias=q;if(q!=null||q.length>0){for(var p=0;p<q.length;p++){var o={};o.noticia_id=q[p].noticia_id;o.titulo=q[p].titulo;o.detalles=q[p].detalles;o.fotos=q[p].fotos;o.fecha=i(q[p].fecha);if(p<3){o.slider=1;f.noticias_slider_1.push(o);f.slider_1=true}if(p>=3&&p<6){o.slider=2;f.noticias_slider_2.push(o);f.slider_2=true}if(p>=6&&p<9){o.slider=3;f.noticias_slider_3.push(o);f.slider_3=true}if(p>=9&&p<12){o.slider=4;f.noticias_slider_4.push(o);f.slider_4=true}if(p>=12&&p<15){o.slider=5;f.noticias_slider_5.push(o);f.slider_5=true}}}});f.slider_nro=1;l(h,30000);function h(){if(f.noticias_slider_5.length>0){f.slider_nro=(f.slider_nro==5)?1:f.slider_nro+1}else{if(f.noticias_slider_4.length>0){f.slider_nro=(f.slider_nro==4)?1:f.slider_nro+1}else{if(f.noticias_slider_3.length>0){f.slider_nro=(f.slider_nro==3)?1:f.slider_nro+1}else{if(f.noticias_slider_2.length>0){f.slider_nro=(f.slider_nro==2)?1:f.slider_nro+1}}}}}function m(p){for(var o=0;o<f.noticias.length;o++){if(f.noticias[o].noticia_id==p){f.noticia=f.noticias[o]}}j.path("/noticia/"+p)}function d(o){}function k(o){if(o.length>2){g.getByParams("titulo,detalles",o,"false",f.noticias,function(p){f.noticias_resultado=p;f.buscar=true})}else{f.buscar=false}}function i(o){function p(r){return(r<10)?"0"+r:r}var q=new Date(o);return[p(q.getDate()),p(q.getMonth()+1),q.getFullYear()].join("/")}}})();