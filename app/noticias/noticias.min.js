(function(){var b=document.getElementsByTagName("script");var c=b[b.length-1].src;angular.module("acdesarrollos.noticias",["ngRoute"]).controller("NoticiasController",a);a.$inject=["$scope","$location","NoticiasService","$interval","AcUtils"];function a(m,i,e,k,g){var f=this;f.titulo="";f.filtro="";f.buscar=false;f.slider_1=false;f.slider_2=false;f.slider_3=false;f.slider_4=false;f.slider_5=false;f.noticias=[];f.noticias_resultado=[];f.noticia={};f.noticias_slider_1=[];f.noticias_slider_2=[];f.noticias_slider_3=[];f.noticias_slider_4=[];f.noticias_slider_5=[];f.goToNoticia=l;f.showNoticia=d;f.buscarNoticia=j;e.getNoticias(function(p){f.noticias=p;if(p!=null||p.length>0){for(var o=0;o<p.length;o++){var n={};n.noticia_id=p[o].noticia_id;n.titulo=p[o].titulo;n.detalles=p[o].detalles;n.fotos=p[o].fotos;if(o<3){n.slider=1;f.noticias_slider_1.push(n);f.slider_1=true}if(o>=3&&o<6){n.slider=2;f.noticias_slider_2.push(n);f.slider_2=true}if(o>=6&&o<9){n.slider=3;f.noticias_slider_3.push(n);f.slider_3=true}if(o>=9&&o<12){n.slider=4;f.noticias_slider_4.push(n);f.slider_4=true}if(o>=12&&o<15){n.slider=5;f.noticias_slider_5.push(n);f.slider_5=true}}}});f.slider_nro=1;k(h,30000);function h(){if(f.noticias_slider_5.length>0){f.slider_nro=(f.slider_nro==5)?1:f.slider_nro+1}else{if(f.noticias_slider_4.length>0){f.slider_nro=(f.slider_nro==4)?1:f.slider_nro+1}else{if(f.noticias_slider_3.length>0){f.slider_nro=(f.slider_nro==3)?1:f.slider_nro+1}else{if(f.noticias_slider_2.length>0){f.slider_nro=(f.slider_nro==2)?1:f.slider_nro+1}}}}}function l(o){for(var n=0;n<f.noticias.length;n++){if(f.noticias[n].noticia_id==o){f.noticia=f.noticias[n]}}i.path("/noticia/"+o)}function d(n){}function j(n){if(n.length>2){g.getByParams("titulo,detalles",n,"false",f.noticias,function(o){f.noticias_resultado=o;f.buscar=true})}else{f.buscar=false}}}})();